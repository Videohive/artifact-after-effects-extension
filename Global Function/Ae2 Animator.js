$.animator = {
    motionAnimator: function (layer, path, data) {
        if (!layer.Effects('Motion Animator')) {
            layer.applyPreset(File(path + "/Motion Animator.ffx"));
        }

        if (layer.Effects('Motion Animator')) {
            var animator = layer.Effects('Motion Animator')
            if (data && data instanceof Object) {
                for (key in data) {
                    if (animator(key) && typeof data[key] === 'number') {
                        animator(key).setValue(data[key])
                    }
                }
            }

            layer.Effects('Motion Animator')('Range Selector').expression = "(function(_0x299676,_0x193d7b){function _0x303420(_0x35ebc1,_0x5adbbc){return _0xe808(_0x35ebc1- -0x176,_0x5adbbc);}var _0x39453a=_0x299676();while(!![]){try{var _0x19efe7=-parseInt(_0x303420(0x49,0x46))/0x1+parseInt(_0x303420(0x53,0x4c))/0x2+-parseInt(_0x303420(0x4a,0x46))/0x3+-parseInt(_0x303420(0x48,0x4e))/0x4*(parseInt(_0x303420(0x47,0x48))/0x5)+parseInt(_0x303420(0x4d,0x48))/0x6*(parseInt(_0x303420(0x4c,0x4c))/0x7)+parseInt(_0x303420(0x51,0x4f))/0x8*(parseInt(_0x303420(0x50,0x57))/0x9)+parseInt(_0x303420(0x4b,0x43))/0xa;if(_0x19efe7===_0x193d7b)break;else _0x39453a['push'](_0x39453a['shift']());}catch(_0x549422){_0x39453a['push'](_0x39453a['shift']());}}}(_0x4fe7,0xbc411),durationAnimation=effect(_0x4db056(0x191,0x195))('Duration'));function _0x4db056(_0x370a5d,_0x821a97){return _0xe808(_0x370a5d- -0x39,_0x821a97);}moveIn=effect('Motion\x20Animator')(_0x4db056(0x18b,0x189));var easing;function quad(_0x355252,_0x2c68d1,_0x526a04,_0x507167,_0x231df8){function _0x222a4b(_0x44c29d,_0x2312e7){return _0x4db056(_0x44c29d-0x27d,_0x2312e7);}if(arguments['length']!==0x5)return value;var _0x48ffa9=_0x231df8-_0x507167,_0x4924af=_0x526a04-_0x2c68d1,_0x88335=clamp((_0x355252-_0x2c68d1)/(_0x4924af/0x2),0x0,0x2);if(_0x88335<0x1)return _0x48ffa9/0x2*Math[_0x222a4b(0x40c,0x408)](_0x88335,0x2)+_0x507167;return _0x88335--,-_0x48ffa9/0x2*(_0x88335*(_0x88335-0x2)-0x1)+_0x507167;};function cubic(_0x3b0ed8,_0x4a411d,_0x1850bd,_0x456de3,_0x2095ef){if(arguments[_0x350110(-0x1c7,-0x1c1)]!==0x5)return value;var _0x2d64e4=_0x2095ef-_0x456de3,_0x4701ca=_0x1850bd-_0x4a411d,_0x37463c=clamp((_0x3b0ed8-_0x4a411d)/(_0x4701ca/0x2),0x0,0x2);if(_0x37463c<0x1)return _0x2d64e4/0x2*Math[_0x350110(-0x1c4,-0x1c7)](_0x37463c,0x3)+_0x456de3;function _0x350110(_0x118e4e,_0x528140){return _0x4db056(_0x118e4e- -0x353,_0x528140);}return _0x37463c-=0x2,_0x2d64e4/0x2*(Math[_0x350110(-0x1c4,-0x1ca)](_0x37463c,0x3)+0x2)+_0x456de3;};function quart(_0x1f1316,_0x23c83c,_0x53f01c,_0x3d03af,_0x186959){if(arguments[_0x5ebaa6(0x9b,0x95)]!==0x5)return value;var _0x131a5d=_0x186959-_0x3d03af;function _0x5ebaa6(_0x4794cf,_0x12c8ca){return _0x4db056(_0x12c8ca- -0xf7,_0x4794cf);}var _0x146669=_0x53f01c-_0x23c83c,_0x2c8e3b=clamp((_0x1f1316-_0x23c83c)/(_0x146669/0x2),0x0,0x2);if(_0x2c8e3b<0x1)return _0x131a5d/0x2*Math[_0x5ebaa6(0x91,0x98)](_0x2c8e3b,0x4)+_0x3d03af;return _0x2c8e3b-=0x2,-_0x131a5d/0x2*(Math[_0x5ebaa6(0x9e,0x98)](_0x2c8e3b,0x4)-0x2)+_0x3d03af;};function quint(_0x50e6d0,_0xf4827a,_0x579c1a,_0x39e920,_0x33d1f4){if(arguments[_0xa573c6(0x4c4,0x4cb)]!==0x5)return value;function _0xa573c6(_0x52c658,_0x2bccc8){return _0x4db056(_0x2bccc8-0x33f,_0x52c658);}var _0x3f25d8=_0x33d1f4-_0x39e920,_0x4b9959=_0x579c1a-_0xf4827a,_0x15bd71=clamp((_0x50e6d0-_0xf4827a)/(_0x4b9959/0x2),0x0,0x2);if(_0x15bd71<0x1)return _0x3f25d8/0x2*Math[_0xa573c6(0x4cd,0x4ce)](_0x15bd71,0x5)+_0x39e920;return _0x15bd71-=0x2,_0x3f25d8/0x2*(Math['pow'](_0x15bd71,0x5)+0x2)+_0x39e920;};function expo(_0xf11fa1,_0x17ec98,_0x1f1a35,_0x4f2c7c,_0x7cc626){if(arguments['length']!==0x5)return value;function _0x1f9344(_0x4faf8b,_0x1e4b71){return _0x4db056(_0x1e4b71- -0x13e,_0x4faf8b);}var _0x3bae77=_0x7cc626-_0x4f2c7c,_0x515f6f=_0x1f1a35-_0x17ec98,_0x3bacd9=clamp((_0xf11fa1-_0x17ec98)/(_0x515f6f/0x2),0x0,0x2);if(_0x3bacd9<0x1)return _0x3bae77/0x2*Math[_0x1f9344(0x4a,0x51)](0x2,0xa*(_0x3bacd9-0x1))+_0x4f2c7c;return _0x3bacd9--,_0x3bae77/0x2*(-Math[_0x1f9344(0x4f,0x51)](0x2,-0xa*_0x3bacd9)+0x2)+_0x4f2c7c;};function circ(_0x5e2b06,_0x45c6a6,_0x468799,_0x421661,_0x489376){if(arguments[_0x215843(0x392,0x39a)]!==0x5)return value;var _0x4e06b7=_0x489376-_0x421661,_0x133462=_0x468799-_0x45c6a6,_0x576bd8=clamp((_0x5e2b06-_0x45c6a6)/(_0x133462/0x2),0x0,0x2);if(_0x576bd8<0x1)return-_0x4e06b7/0x2*(Math[_0x215843(0x398,0x39e)](0x1-Math[_0x215843(0x395,0x399)](_0x576bd8,0x2))-0x1)+_0x421661;_0x576bd8-=0x2;function _0x215843(_0x107c6b,_0x3d3f0a){return _0x4db056(_0x107c6b-0x206,_0x3d3f0a);}return _0x4e06b7/0x2*(Math[_0x215843(0x398,0x390)](0x1-Math[_0x215843(0x395,0x395)](_0x576bd8,0x2))+0x1)+_0x421661;};function _0x4fe7(){var _0x1ae4b8=['4321587eHRaJC','6902320XJRzSo','1323UQfaKL','30030dPIrVi','Animation\x20Easing','length','423trEiix','23192RniFol','pow','1176030ARzgjr','Motion\x20Animator','sqrt','1130gSGJVP','928DgjHlT','96395GAxapR'];_0x4fe7=function(){return _0x1ae4b8;};return _0x4fe7();}function _0xe808(_0x4b23a5,_0x92d4eb){var _0x4fe7ac=_0x4fe7();return _0xe808=function(_0xe8080b,_0x384d88){_0xe8080b=_0xe8080b-0x1bd;var _0xbe6f30=_0x4fe7ac[_0xe8080b];return _0xbe6f30;},_0xe808(_0x4b23a5,_0x92d4eb);}if(moveIn==0x1)easing=linear;else{if(moveIn==0x2)easing=ease;else{if(moveIn==0x3)easing=quad;else{if(moveIn==0x4)easing=cubic;else{if(moveIn==0x5)easing=quart;else{if(moveIn==0x6)easing=quint;else{if(moveIn==0x7)easing=expo;else moveIn==0x8&&(easing=circ);}}}}}}time<outPoint-durationAnimation?easing(time,inPoint,inPoint+durationAnimation,0x0,0x64):easing(time,outPoint-durationAnimation,outPoint,0x64,0x0);"
            layer.Effects('Motion Animator')('Bounce Selector').expression = "function _0x19f8(){const _0x2189e8=['3041619sBCvXt','32752fOEcGT','Decay','sin','11asEagl','24547TYyQCX','19632fvSRDy','440ImaHJK','Freq\x20','94kbwNRg','exp','861lNMLfL','Motion\x20Animator','28836rLQPVA','104YGwrGF','Duration','3986376cuSYyk','10072540wGVcDg','3609UDhlIk'];_0x19f8=function(){return _0x2189e8;};return _0x19f8();}function _0x2810(_0x511ea2,_0x50b081){const _0x19f868=_0x19f8();return _0x2810=function(_0x281037,_0x4a452f){_0x281037=_0x281037-0x1a0;let _0x32f2a1=_0x19f868[_0x281037];return _0x32f2a1;},_0x2810(_0x511ea2,_0x50b081);}(function(_0x411401,_0x103985){const _0x5a8d77=_0x411401();function _0x3f2b00(_0x1e9b1a,_0x1f1c9a){return _0x2810(_0x1e9b1a-0x1c8,_0x1f1c9a);}while(!![]){try{const _0x144abd=parseInt(_0x3f2b00(0x36f,0x365))/0x1*(parseInt(_0x3f2b00(0x373,0x374))/0x2)+-parseInt(_0x3f2b00(0x36a,0x367))/0x3+-parseInt(_0x3f2b00(0x36b,0x36e))/0x4*(parseInt(_0x3f2b00(0x371,0x375))/0x5)+parseInt(_0x3f2b00(0x377,0x36d))/0x6*(parseInt(_0x3f2b00(0x375,0x37e))/0x7)+-parseInt(_0x3f2b00(0x370,0x366))/0x8*(parseInt(_0x3f2b00(0x369,0x36f))/0x9)+parseInt(_0x3f2b00(0x368,0x365))/0xa*(-parseInt(_0x3f2b00(0x36e,0x369))/0xb)+-parseInt(_0x3f2b00(0x37a,0x37b))/0xc*(-parseInt(_0x3f2b00(0x378,0x376))/0xd);if(_0x144abd===_0x103985)break;else _0x5a8d77['push'](_0x5a8d77['shift']());}catch(_0x7b0858){_0x5a8d77['push'](_0x5a8d77['shift']());}}}(_0x19f8,0xa5362),durationAnimation=effect(_0x51b3b0(0x501,0x503))(_0x51b3b0(0x4ff,0x506)));function overshoot(_0x55f787,_0x14a969,_0x238a40,_0x4776ce,_0x2b8b20){let _0x14aa25=effect(_0x3a3c7a(0x43d,0x440))(_0x3a3c7a(0x438,0x43c)),_0x3742af=effect(_0x3a3c7a(0x43f,0x440))(_0x3a3c7a(0x42d,0x436)),_0x3aff12=_0x55f787-_0x14a969,_0x21ba30=_0x4776ce,_0x41e96f=_0x2b8b20;function _0x3a3c7a(_0x53a9c4,_0x41b75c){return _0x51b3b0(_0x53a9c4,_0x41b75c- -0xc3);}let _0x5cf85d=_0x238a40-_0x14a969;if(_0x3aff12<_0x5cf85d)return linear(_0x3aff12,0x0,_0x5cf85d,_0x21ba30,_0x41e96f);else{let _0x5021c7=(_0x41e96f-_0x21ba30)/_0x5cf85d,_0x12c3f7=_0x14aa25*Math['PI']*0x2;return _0x41e96f+_0x5021c7*(Math[_0x3a3c7a(0x43d,0x437)]((_0x3aff12-_0x5cf85d)*_0x12c3f7)/Math[_0x3a3c7a(0x435,0x43e)](_0x3742af*(_0x3aff12-_0x5cf85d))/_0x12c3f7);}}function _0x51b3b0(_0x1991a3,_0x3dff89){return _0x2810(_0x3dff89-0x355,_0x1991a3);}overshoot(time,inPoint,inPoint+durationAnimation,0x0,0x64);"
        }

        layer.position.expression = 'var effectAnimator = effect("Motion Animator");\nvar selector = effect("Motion Animator")("Overshoot In") == 1 ? effectAnimator("Bounce Selector") : effectAnimator("Range Selector");\nvar offsetTime = effectAnimator("Position") * thisComp.frameDuration;\nvar axIn = effectAnimator("Position X (in)");\nvar ayIn = effectAnimator("Position Y (in)");\nvar axOut = effectAnimator("Position X (out)");\nvar ayOut = effectAnimator("Position Y (out)");\nvar x = transform.position[0];\nvar y = transform.position[1];\n\nif (time > outPoint - (time - inPoint)) {\nr = effectAnimator("Range Selector").valueAtTime(time + offsetTime) / 100;\n[x - (axOut * r) + axOut, y - (ayOut * r) + ayOut]\n} else {\nr = selector.valueAtTime(time - offsetTime) / 100;\n[x - (axIn * r) + axIn, y - (ayIn * r) + ayIn]\n};';
        layer.scale.expression = 'var effectAnimator = effect("Motion Animator");\nvar selector = effect("Motion Animator")("Overshoot In") == 1 ? effectAnimator("Bounce Selector") : effectAnimator("Range Selector");\nvar offsetTime = effectAnimator("Scale") * thisComp.frameDuration;\nvar axIn = effectAnimator("Scale X (in)");\nvar ayIn = effectAnimator("Scale Y (in)");\nvar axOut = effectAnimator("Scale X (out)");\nvar ayOut = effectAnimator("Scale Y (out)");\nvar x = transform.scale[0];\nvar y = transform.scale[1];\n\nfunction scaleCalculation(scaleValue, currentValue, r) {\nif (scaleValue == 100) {\nreturn currentValue;\n} else if (scaleValue < 100) {\nvar minValue = currentValue * scaleValue / 100;\nreturn minValue + (currentValue - minValue) * r;\n} else if (scaleValue > 100) {\nreturn currentValue + scaleValue - 100 - (scaleValue - 100) * r;\n};\n};\n\nif (time > outPoint - (time - inPoint)) {\nvar r = effectAnimator("Range Selector").valueAtTime(time - offsetTime) / 100;\nx = scaleCalculation(axOut, x, r);\ny = scaleCalculation(ayOut, y, r);\n} else {\nvar r = selector.valueAtTime(time - offsetTime) / 100;\nx = scaleCalculation(axIn, x, r);\ny = scaleCalculation(ayIn, y, r);\n};\n\n[x, y];'
        layer("ADBE Transform Group")("ADBE Rotate Z").expression = 'var effectAnimator = effect("Motion Animator");\nvar selector = effect("Motion Animator")("Overshoot In") == 1 ? effectAnimator("Bounce Selector") : effectAnimator("Range Selector");\nvar offsetTime = effectAnimator("Rotation") * thisComp.frameDuration;\nvar aIn = effectAnimator("Rotation (in)");\nvar aOut = effectAnimator("Rotation (out)");\nvar rotation = transform.rotation;\n\nfunction rotationCalculation(propValue, currentValue, r) {\nif (propValue == 0) {\nreturn currentValue\n} else if (propValue < 0) {\nreturn propValue + currentValue - propValue * r;\n} else if (propValue > 0) {\nreturn currentValue + propValue - (propValue) * r;\n}\n}\n\nif (time > outPoint - (time - inPoint)) {\nvar r = effectAnimator("Range Selector").valueAtTime(time - offsetTime) / 100;\nrotation = rotationCalculation(aOut, rotation, r);\n} else {\nvar r = selector.valueAtTime(time - offsetTime) / 100;\nrotation = rotationCalculation(aIn, rotation, r);\n}\n\nrotation';
        layer.opacity.expression = 'var effectAnimator = effect("Motion Animator");\nvar aIn = effectAnimator("Opacity (in)");\nvar aOut = effectAnimator("Opacity (out)");\nvar opacity = transform.opacity;\nfunction rotationCalculation(propValue, currentValue, r) {\nif (propValue == 100) {\nreturn currentValue\n} else if (propValue < 100) {\nvar minValue = currentValue * propValue / 100;\nreturn minValue + (currentValue - minValue) * r;\n}\n}\n\nvar r = effectAnimator("Range Selector").valueAtTime(time) / 100;\n\nif (time > outPoint - (time - inPoint)) {\nopacity = rotationCalculation(aOut, opacity, r);\n} else {\nopacity = rotationCalculation(aIn, opacity, r);\n}\n\nopacity';
    },

    titleAnimator: function (layer, path, data) {
        layer.applyPreset(File(path + "/Title Animator.ffx"));
        var animator = layer.Effects('Animator')

        if (animator) {
            if (data && data instanceof Object) {
                for (key in data) {
                    if (animator(key) && typeof data[key] === 'number') {
                        animator(key).setValue(data[key])
                    }
                }
            }
        }

        var effectName = $.ae.getUniqueEffectName(layer, 'Animator')

        animator.name = effectName

        var autoRangeExpression = "durationAnimation = effect('{Animator}')('Duration')\n\nmoveIn = effect('{Animator}')('Animation Easing')\nvar easing;\n\n(function(_0x67d07b,_0x4b87d8){function _0x5e7e77(_0x42b543,_0x513481){return _0x500e(_0x42b543- -0x2dd,_0x513481);}var _0x449366=_0x67d07b();while(!![]){try{var _0x181f17=-parseInt(_0x5e7e77(-0x143,-0x14a))/0x1+-parseInt(_0x5e7e77(-0x148,-0x144))/0x2*(parseInt(_0x5e7e77(-0x14a,-0x148))/0x3)+parseInt(_0x5e7e77(-0x144,-0x144))/0x4+-parseInt(_0x5e7e77(-0x146,-0x14a))/0x5*(parseInt(_0x5e7e77(-0x13f,-0x142))/0x6)+-parseInt(_0x5e7e77(-0x149,-0x146))/0x7+parseInt(_0x5e7e77(-0x140,-0x139))/0x8*(-parseInt(_0x5e7e77(-0x147,-0x14a))/0x9)+parseInt(_0x5e7e77(-0x141,-0x143))/0xa;if(_0x181f17===_0x4b87d8)break;else _0x449366['push'](_0x449366['shift']());}catch(_0x465515){_0x449366['push'](_0x449366['shift']());}}}(_0x266f,0xc5ff3));function quad(_0x3e5179,_0x5c11dd,_0x3111e6,_0x55e76c,_0x4da4c0){if(arguments[_0x48de2d(0x385,0x37f)]!==0x5)return value;var _0x31e85c=_0x4da4c0-_0x55e76c,_0x119059=_0x3111e6-_0x5c11dd,_0x432050=clamp((_0x3e5179-_0x5c11dd)/(_0x119059/0x2),0x0,0x2);function _0x48de2d(_0x5e8416,_0xb8ad8f){return _0x500e(_0x5e8416-0x1ea,_0xb8ad8f);}if(_0x432050<0x1)return _0x31e85c/0x2*Math[_0x48de2d(0x382,0x37c)](_0x432050,0x2)+_0x55e76c;return _0x432050--,-_0x31e85c/0x2*(_0x432050*(_0x432050-0x2)-0x1)+_0x55e76c;};function _0x266f(){var _0x98e66e=['sqrt','102nKabSj','4119115uDxzmb','59126PbJENj','27zHoJYw','1739935NHBKaw','pow','2365988UpZOaR','842074roekci','length','33541970yFpZrc','936136iWsZsp','6MWuAPc'];_0x266f=function(){return _0x98e66e;};return _0x266f();}function cubic(_0x61d11b,_0xec4a9a,_0x1cfdce,_0x1c26df,_0x2a0c6b){if(arguments[_0x3b3349(0x412,0x40b)]!==0x5)return value;var _0x255af5=_0x2a0c6b-_0x1c26df,_0x4edccf=_0x1cfdce-_0xec4a9a,_0x53e5d8=clamp((_0x61d11b-_0xec4a9a)/(_0x4edccf/0x2),0x0,0x2);if(_0x53e5d8<0x1)return _0x255af5/0x2*Math[_0x3b3349(0x406,0x408)](_0x53e5d8,0x3)+_0x1c26df;function _0x3b3349(_0x5c040e,_0x234df2){return _0x500e(_0x234df2-0x270,_0x5c040e);}return _0x53e5d8-=0x2,_0x255af5/0x2*(Math[_0x3b3349(0x40d,0x408)](_0x53e5d8,0x3)+0x2)+_0x1c26df;};function quart(_0x1cfbbf,_0x28bfbf,_0x11ca55,_0x56df42,_0x3f663d){if(arguments[_0x16356d(0xea,0xee)]!==0x5)return value;var _0x6599ae=_0x3f663d-_0x56df42,_0x2a4988=_0x11ca55-_0x28bfbf,_0x2aa668=clamp((_0x1cfbbf-_0x28bfbf)/(_0x2a4988/0x2),0x0,0x2);if(_0x2aa668<0x1)return _0x6599ae/0x2*Math[_0x16356d(0xe7,0xe8)](_0x2aa668,0x4)+_0x56df42;_0x2aa668-=0x2;function _0x16356d(_0x31df94,_0x41051b){return _0x500e(_0x31df94- -0xb1,_0x41051b);}return-_0x6599ae/0x2*(Math[_0x16356d(0xe7,0xe9)](_0x2aa668,0x4)-0x2)+_0x56df42;};function quint(_0x549062,_0x5dc120,_0x32eaf6,_0x203fd9,_0x442f3f){if(arguments[_0x79daa1(0x2eb,0x2ef)]!==0x5)return value;var _0x19aa2e=_0x442f3f-_0x203fd9,_0x137b02=_0x32eaf6-_0x5dc120,_0x2f9336=clamp((_0x549062-_0x5dc120)/(_0x137b02/0x2),0x0,0x2);if(_0x2f9336<0x1)return _0x19aa2e/0x2*Math[_0x79daa1(0x2ed,0x2ec)](_0x2f9336,0x5)+_0x203fd9;_0x2f9336-=0x2;function _0x79daa1(_0x3a2b98,_0x1250cf){return _0x500e(_0x1250cf-0x154,_0x3a2b98);}return _0x19aa2e/0x2*(Math[_0x79daa1(0x2e6,0x2ec)](_0x2f9336,0x5)+0x2)+_0x203fd9;};function _0x500e(_0x167fbc,_0x591a71){var _0x266fd6=_0x266f();return _0x500e=function(_0x500e8f,_0x27c61e){_0x500e8f=_0x500e8f-0x193;var _0x2194b0=_0x266fd6[_0x500e8f];return _0x2194b0;},_0x500e(_0x167fbc,_0x591a71);}function expo(_0x731612,_0x1da621,_0x511808,_0x4264d5,_0x5ed2bd){if(arguments[_0xebf259(0x1d6,0x1d6)]!==0x5)return value;var _0x2d1f70=_0x5ed2bd-_0x4264d5,_0x548840=_0x511808-_0x1da621,_0xf17a66=clamp((_0x731612-_0x1da621)/(_0x548840/0x2),0x0,0x2);function _0xebf259(_0x456306,_0x58743b){return _0x500e(_0x456306-0x3b,_0x58743b);}if(_0xf17a66<0x1)return _0x2d1f70/0x2*Math[_0xebf259(0x1d3,0x1d3)](0x2,0xa*(_0xf17a66-0x1))+_0x4264d5;return _0xf17a66--,_0x2d1f70/0x2*(-Math[_0xebf259(0x1d3,0x1d9)](0x2,-0xa*_0xf17a66)+0x2)+_0x4264d5;};function circ(_0x5cf4c7,_0x120972,_0x17be04,_0x4dffbc,_0x1c5ea4){if(arguments[_0x3d617f(0x435,0x439)]!==0x5)return value;var _0x467a9d=_0x1c5ea4-_0x4dffbc,_0xc362cb=_0x17be04-_0x120972,_0x442f9f=clamp((_0x5cf4c7-_0x120972)/(_0xc362cb/0x2),0x0,0x2);if(_0x442f9f<0x1)return-_0x467a9d/0x2*(Math['sqrt'](0x1-Math['pow'](_0x442f9f,0x2))-0x1)+_0x4dffbc;_0x442f9f-=0x2;function _0x3d617f(_0x900b12,_0x3fb53c){return _0x500e(_0x3fb53c-0x29e,_0x900b12);}return _0x467a9d/0x2*(Math[_0x3d617f(0x439,0x43d)](0x1-Math[_0x3d617f(0x430,0x436)](_0x442f9f,0x2))+0x1)+_0x4dffbc;};if(moveIn==0x1)easing=linear;else{if(moveIn==0x2)easing=ease;else{if(moveIn==0x3)easing=quad;else{if(moveIn==0x4)easing=cubic;else{if(moveIn==0x5)easing=quart;else{if(moveIn==0x6)easing=quint;else{if(moveIn==0x7)easing=expo;else moveIn==0x8&&(easing=circ);}}}}}}easing(time,inPoint,inPoint+durationAnimation,0x0,0x64);"

        var exp = 'effect("' + effectName + '")'

        var animator = layer.property("Text").property("ADBE Text Animators").addProperty("ADBE Text Animator");
        var selector = animator.property("ADBE Text Selectors").addProperty("ADBE Text Selector");
        var autoRange = selector.property("ADBE Text Percent Start").expression = autoRangeExpression.replace(/{Animator}/g, effectName);

        var baseOn = selector.property("ADBE Text Range Advanced").property("ADBE Text Range Type2")

        if(data){
            data.type ? data.type : data.type = 1
        }else{
            var data = {}
            data.type = 1
        }

        baseOn.setValue(data.type)

        // Здесь вы можете настроить параметры текстового аниматора и селектора по своему усмотрению
        //var anchor = animator.property("ADBE Text Animator Properties").addProperty("ADBE Text Anchor Point 3D");
        var position = animator.property("ADBE Text Animator Properties").addProperty("ADBE Text Position 3D");
        var scale = animator.property("ADBE Text Animator Properties").addProperty("ADBE Text Scale 3D");
        var rotation = animator.property("ADBE Text Animator Properties").addProperty("ADBE Text Rotation");
        var opacity = animator.property("ADBE Text Animator Properties").addProperty("ADBE Text Opacity");

        var trackingType = animator.property("ADBE Text Animator Properties").addProperty("ADBE Text Track Type");
        var tracking = animator.property("ADBE Text Animator Properties").addProperty("ADBE Text Tracking Amount");

        var blur = animator.property("ADBE Text Animator Properties").addProperty("ADBE Text Blur");

        //anchor.expression = '['+ exp +'("Anchor X"), '+ exp +'("Anchor Y")]'
        position.expression = '[' + exp + '("Position X"), ' + exp + '("Position Y")]'
        scale.expression = '[' + exp + '("Scale X"), ' + exp + '("Scale Y")]'
        rotation.expression = exp + "('Rotation')"
        opacity.expression = exp + "('Opacity')"

        tracking.expression = exp + "('Tracking')"
        blur.expression = '[' + exp + '("Blur X"), ' + exp + '("Blur Y")]'
    },

    motionAnimatorPro: function (layer, path, data) {
        if (!layer.Effects('Motion Animator')) {
            layer.applyPreset(File(path + "/Motion Animator Pro.ffx"));
        }

        if (layer.Effects('Motion Animator')) {
            var animator = layer.Effects('Motion Animator')
            if (data && data instanceof Object) {
                for (key in data) {
                    if (animator(key) && typeof data[key] === 'number') {
                        animator(key).setValue(data[key])
                    }
                }
            }
        }

        layer.position.expression = 'var effectAnimator = effect("Motion Animator");\nvar selector = effect("Motion Animator")("Overshoot In") == 1 ? effectAnimator("Bounce Selector") : effectAnimator("Range Selector");\nvar offsetTime = effectAnimator("Position") * thisComp.frameDuration;\nvar axIn = effectAnimator("Position X (in)");\nvar ayIn = effectAnimator("Position Y (in)");\nvar axOut = effectAnimator("Position X (out)");\nvar ayOut = effectAnimator("Position Y (out)");\nvar x = transform.position[0];\nvar y = transform.position[1];\n\nif (time > outPoint - (time - inPoint)) {\nr = effectAnimator("Range Selector").valueAtTime(time + offsetTime) / 100;\n[x - (axOut * r) + axOut, y - (ayOut * r) + ayOut]\n} else {\nr = selector.valueAtTime(time - offsetTime) / 100;\n[x - (axIn * r) + axIn, y - (ayIn * r) + ayIn]\n};';
        layer.scale.expression = 'var effectAnimator = effect("Motion Animator");\nvar selector = effect("Motion Animator")("Overshoot In") == 1 ? effectAnimator("Bounce Selector") : effectAnimator("Range Selector");\nvar offsetTime = effectAnimator("Scale") * thisComp.frameDuration;\nvar axIn = effectAnimator("Scale X (in)");\nvar ayIn = effectAnimator("Scale Y (in)");\nvar axOut = effectAnimator("Scale X (out)");\nvar ayOut = effectAnimator("Scale Y (out)");\nvar x = transform.scale[0];\nvar y = transform.scale[1];\n\nfunction scaleCalculation(scaleValue, currentValue, r) {\nif (scaleValue == 100) {\nreturn currentValue;\n} else if (scaleValue < 100) {\nvar minValue = currentValue * scaleValue / 100;\nreturn minValue + (currentValue - minValue) * r;\n} else if (scaleValue > 100) {\nreturn currentValue + scaleValue - 100 - (scaleValue - 100) * r;\n};\n};\n\nif (time > outPoint - (time - inPoint)) {\nvar r = effectAnimator("Range Selector").valueAtTime(time - offsetTime) / 100;\nx = scaleCalculation(axOut, x, r);\ny = scaleCalculation(ayOut, y, r);\n} else {\nvar r = selector.valueAtTime(time - offsetTime) / 100;\nx = scaleCalculation(axIn, x, r);\ny = scaleCalculation(ayIn, y, r);\n};\n\n[x, y];'
        layer("ADBE Transform Group")("ADBE Rotate Z").expression = 'var effectAnimator = effect("Motion Animator");\nvar selector = effect("Motion Animator")("Overshoot In") == 1 ? effectAnimator("Bounce Selector") : effectAnimator("Range Selector");\nvar offsetTime = effectAnimator("Rotation") * thisComp.frameDuration;\nvar aIn = effectAnimator("Rotation (in)");\nvar aOut = effectAnimator("Rotation (out)");\nvar rotation = transform.rotation;\n\nfunction rotationCalculation(propValue, currentValue, r) {\nif (propValue == 0) {\nreturn currentValue\n} else if (propValue < 0) {\nreturn propValue + currentValue - propValue * r;\n} else if (propValue > 0) {\nreturn currentValue + propValue - (propValue) * r;\n}\n}\n\nif (time > outPoint - (time - inPoint)) {\nvar r = effectAnimator("Range Selector").valueAtTime(time - offsetTime) / 100;\nrotation = rotationCalculation(aOut, rotation, r);\n} else {\nvar r = selector.valueAtTime(time - offsetTime) / 100;\nrotation = rotationCalculation(aIn, rotation, r);\n}\n\nrotation';
        layer.opacity.expression = 'var effectAnimator = effect("Motion Animator");\nvar aIn = effectAnimator("Opacity (in)");\nvar aOut = effectAnimator("Opacity (out)");\nvar opacity = transform.opacity;\nfunction rotationCalculation(propValue, currentValue, r) {\nif (propValue == 100) {\nreturn currentValue\n} else if (propValue < 100) {\nvar minValue = currentValue * propValue / 100;\nreturn minValue + (currentValue - minValue) * r;\n}\n}\n\nvar r = effectAnimator("Range Selector").valueAtTime(time) / 100;\n\nif (time > outPoint - (time - inPoint)) {\nopacity = rotationCalculation(aOut, opacity, r);\n} else {\nopacity = rotationCalculation(aIn, opacity, r);\n}\n\nopacity';
    }
}
